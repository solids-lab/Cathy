#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
生成表2：训练/评测超参汇总
"""

def generate_hyperparameters_table():
    """生成超参数表格"""
    print("=" * 80)
    print("表2: 训练/评测超参汇总")
    print("=" * 80)
    
    # PPO超参数
    print("\n【PPO算法超参数】")
    print(f"{'参数':<20} {'值':<15} {'说明'}")
    print("-" * 50)
    print(f"{'学习率 (lr)':<20} {'3e-4':<15} {'Adam优化器学习率'}")
    print(f"{'折扣因子 (γ)':<20} {'0.99':<15} {'未来奖励折扣'}")
    print(f"{'GAE λ':<20} {'0.95':<15} {'广义优势估计参数'}")
    print(f"{'裁剪比例':<20} {'0.2':<15} {'PPO策略裁剪范围'}")
    print(f"{'PPO轮数':<20} {'8':<15} {'每次更新的训练轮数'}")
    print(f"{'批次大小':<20} {'32':<15} {'训练批次大小'}")
    print(f"{'缓冲区大小':<20} {'10000':<15} {'经验回放缓冲区'}")
    print(f"{'熵系数':<20} {'0.02':<15} {'策略熵正则化'}")
    
    # GAT网络超参数
    print("\n【GAT网络超参数】")
    print(f"{'参数':<20} {'值':<15} {'说明'}")
    print("-" * 50)
    print(f"{'隐藏维度':<20} {'256':<15} {'网络隐藏层维度'}")
    print(f"{'注意力头数':<20} {'4':<15} {'多头注意力机制'}")
    print(f"{'Dropout率':<20} {'0.1':<15} {'防过拟合丢弃率'}")
    print(f"{'状态维度':<20} {'20':<15} {'环境状态特征维度'}")
    print(f"{'动作维度':<20} {'15':<15} {'动作空间维度'}")
    print(f"{'节点特征维度':<20} {'8':<15} {'图节点特征维度'}")
    
    # 联邦学习超参数
    print("\n【联邦学习超参数】")
    print(f"{'参数':<20} {'值':<15} {'说明'}")
    print("-" * 50)
    print(f"{'聚合算法':<20} {'FedAvg':<15} {'联邦平均算法'}")
    print(f"{'客户端总数':<20} {'4':<15} {'参与训练的港口数'}")
    print(f"{'每轮客户端数':<20} {'4':<15} {'每轮参与的客户端'}")
    print(f"{'通信轮数':<20} {'10':<15} {'联邦学习通信轮数'}")
    print(f"{'本地训练轮数':<20} {'2':<15} {'每个客户端本地训练'}")
    print(f"{'本地批次大小':<20} {'10':<15} {'本地训练批次大小'}")
    
    # 课程学习超参数
    print("\n【课程学习超参数】")
    print(f"{'参数':<20} {'值':<15} {'说明'}")
    print("-" * 50)
    print(f"{'阶段数':<20} {'2-5':<15} {'根据港口复杂度'}")
    print(f"{'每阶段训练轮数':<20} {'30-50':<15} {'阶段内训练轮数'}")
    print(f"{'成功阈值':<20} {'0.35-0.50':<15} {'进入下阶段的胜率'}")
    print(f"{'流量强度范围':<20} {'0.3-0.8':<15} {'从简单到复杂'}")
    print(f"{'天气复杂度':<20} {'0.1-0.6':<15} {'环境复杂度递增'}")
    
    # 评测超参数
    print("\n【评测超参数】")
    print(f"{'参数':<20} {'值':<15} {'说明'}")
    print("-" * 50)
    print(f"{'测试样本数':<20} {'800':<15} {'大样本基线测试'}")
    print(f"{'随机种子':<20} {'[42,123,2025]':<15} {'多种子验证'}")
    print(f"{'Wilson置信度':<20} {'95%':<15} {'置信区间计算'}")
    print(f"{'安全边界':<20} {'3pp':<15} {'告警阈值安全边界'}")
    print(f"{'评测频率':<20} {'每轮':<15} {'训练过程中评测'}")
    
    # 环境超参数
    print("\n【环境超参数】")
    print(f"{'参数':<20} {'值':<15} {'说明'}")
    print("-" * 50)
    print(f"{'最大船舶数':<20} {'5-20':<15} {'根据港口和阶段'}")
    print(f"{'最大泊位数':<20} {'3-10':<15} {'港口泊位容量'}")
    print(f"{'时间步长':<20} {'1小时':<15} {'仿真时间粒度'}")
    print(f"{'仿真周期':<20} {'24小时':<15} {'单次episode长度'}")
    print(f"{'奖励函数':<20} {'港口特定':<15} {'基于领域知识设计'}")
    
    print("\n" + "=" * 80)
    print("表2数据说明:")
    print("- PPO: Proximal Policy Optimization强化学习算法")
    print("- GAT: Graph Attention Network图注意力网络")
    print("- FedAvg: 联邦平均聚合算法")
    print("- Wilson下界: 95%置信区间下界，用于性能稳定性评估")
    print("- 课程学习: 从简单到复杂的渐进式训练策略")
    print("=" * 80)

if __name__ == "__main__":
    generate_hyperparameters_table()