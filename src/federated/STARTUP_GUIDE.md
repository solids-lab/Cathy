# ğŸš¢ æµ·äº‹GAT-FedPPOè”é‚¦å­¦ä¹ å¯åŠ¨æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**çœŸæ­£çš„åˆ†å¸ƒå¼è”é‚¦å­¦ä¹ ç³»ç»Ÿ**ï¼Œå°†å¯åŠ¨5ä¸ªç‹¬ç«‹è¿›ç¨‹ï¼š
- 1ä¸ªæœåŠ¡å™¨è¿›ç¨‹ï¼ˆèšåˆå™¨ï¼‰
- 4ä¸ªå®¢æˆ·ç«¯è¿›ç¨‹ï¼ˆä»£è¡¨4ä¸ªçœŸå®æ¸¯å£ï¼‰

## ğŸ—ºï¸ æ¸¯å£æ˜ å°„å…³ç³»

| Rank | æ¸¯å£åç§° | è‹±æ–‡æ ‡è¯† | ä½ç½®åæ ‡ | æ¸¯å£ç±»å‹ |
|------|----------|----------|----------|----------|
| 1 | æ–°å¥¥å°”è‰¯æ¸¯ | new_orleans | 29.9311Â°N, 90.0831Â°W | é›†è£…ç®±æ¸¯ |
| 2 | å—è·¯æ˜“æ–¯å®‰é‚£æ¸¯ | south_louisiana | 29.7755Â°N, 90.6420Â°W | æ•£è´§æ¸¯ |
| 3 | å·´åé²æ—¥æ¸¯ | baton_rouge | 30.4515Â°N, 91.1871Â°W | å†…æ²³æ¸¯ |
| 4 | æµ·æ¹¾æ¸¯ | gulfport | 30.3674Â°N, 89.0928Â°W | ç»¼åˆæ¸¯ |

## ğŸš€ å¯åŠ¨æ­¥éª¤

### å‰ææ¡ä»¶
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd /Users/kaffy/Documents/GAT-FedPPO

# æ£€æŸ¥å¿…è¦æ–‡ä»¶å­˜åœ¨
ls src/federated/config/maritime_fedml_config.yaml
ls src/federated/run_server.sh
ls src/federated/run_client.sh
```

### æ­¥éª¤1: å¯åŠ¨è”é‚¦æœåŠ¡å™¨
**åœ¨ç»ˆç«¯1ä¸­è¿è¡Œï¼š**
```bash
cd src/federated
./run_server.sh
```

**é¢„æœŸè¾“å‡ºï¼š**
```
ğŸš¢ å¯åŠ¨æµ·äº‹GAT-PPOè”é‚¦å­¦ä¹ æœåŠ¡å™¨
=================================
ğŸ“‹ é…ç½®æ–‡ä»¶: config/maritime_fedml_config.yaml
ğŸ”§ å¯åŠ¨æœåŠ¡å™¨...
INFO - ğŸš¢ å¯åŠ¨æµ·äº‹GAT-PPOè”é‚¦å­¦ä¹ æœåŠ¡å™¨
INFO - âœ… é…ç½®åŠ è½½å®Œæˆ
INFO - âœ… æ¨¡å‹åˆ›å»ºå®Œæˆ
INFO - âœ… èšåˆå™¨åˆ›å»ºå®Œæˆ
INFO - ğŸš€ å¯åŠ¨è”é‚¦å­¦ä¹ æœåŠ¡å™¨...
[FedML] Server waiting for clients...
```

### æ­¥éª¤2: å¯åŠ¨4ä¸ªæ¸¯å£å®¢æˆ·ç«¯

**åœ¨ç»ˆç«¯2ä¸­è¿è¡Œï¼ˆæ–°å¥¥å°”è‰¯æ¸¯ï¼‰ï¼š**
```bash
cd src/federated
./run_client.sh 1
```

**åœ¨ç»ˆç«¯3ä¸­è¿è¡Œï¼ˆå—è·¯æ˜“æ–¯å®‰é‚£æ¸¯ï¼‰ï¼š**
```bash
cd src/federated
./run_client.sh 2
```

**åœ¨ç»ˆç«¯4ä¸­è¿è¡Œï¼ˆå·´åé²æ—¥æ¸¯ï¼‰ï¼š**
```bash
cd src/federated
./run_client.sh 3
```

**åœ¨ç»ˆç«¯5ä¸­è¿è¡Œï¼ˆæµ·æ¹¾æ¸¯ï¼‰ï¼š**
```bash
cd src/federated
./run_client.sh 4
```

**æ¯ä¸ªå®¢æˆ·ç«¯çš„é¢„æœŸè¾“å‡ºï¼š**
```
ğŸš¢ å¯åŠ¨æµ·äº‹GAT-PPOè”é‚¦å­¦ä¹ å®¢æˆ·ç«¯
=================================
ğŸ†” å®¢æˆ·ç«¯Rank: 1
ğŸ”– è¿è¡ŒID: maritime_test_20250802_150000
ğŸ“ èŠ‚ç‚¹åç§°: new_orleans
ğŸ“‹ é…ç½®æ–‡ä»¶: config/maritime_fedml_config.yaml
ğŸ”§ å¯åŠ¨å®¢æˆ·ç«¯...
INFO - ğŸš¢ å¯åŠ¨æµ·äº‹GAT-PPOè”é‚¦å­¦ä¹ å®¢æˆ·ç«¯: new_orleans
INFO - âœ… é…ç½®åŠ è½½å®Œæˆ
INFO - âœ… æ¨¡å‹åˆ›å»ºå®Œæˆ
INFO - âœ… è®­ç»ƒå™¨åˆ›å»ºå®Œæˆ
INFO - ğŸš€ å¯åŠ¨è”é‚¦å­¦ä¹ å®¢æˆ·ç«¯ new_orleans...
[FedML] Client new_orleans connected to server...
```

## ğŸ”„ è”é‚¦è®­ç»ƒæµç¨‹

### è‡ªåŠ¨åŒ–è®­ç»ƒï¼ˆ50è½®ï¼‰
ä¸€æ—¦æ‰€æœ‰4ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å¼€å§‹50è½®è”é‚¦è®­ç»ƒï¼š

```
è½®æ¬¡ 1/50:
â”œâ”€â”€ ğŸ“ new_orleans: æœ¬åœ°è®­ç»ƒ 5 episodes â†’ ä¸Šä¼ æ¨¡å‹å‚æ•°
â”œâ”€â”€ ğŸ“ south_louisiana: æœ¬åœ°è®­ç»ƒ 5 episodes â†’ ä¸Šä¼ æ¨¡å‹å‚æ•°  
â”œâ”€â”€ ğŸ“ baton_rouge: æœ¬åœ°è®­ç»ƒ 5 episodes â†’ ä¸Šä¼ æ¨¡å‹å‚æ•°
â””â”€â”€ ğŸ“ gulfport: æœ¬åœ°è®­ç»ƒ 5 episodes â†’ ä¸Šä¼ æ¨¡å‹å‚æ•°

ğŸ”„ æœåŠ¡å™¨èšåˆ: è®¡ç®—æ™ºèƒ½æƒé‡ â†’ ç”Ÿæˆå…¨å±€æ¨¡å‹ â†’ åˆ†å‘ç»™å®¢æˆ·ç«¯

è½®æ¬¡ 2/50:
â”œâ”€â”€ ğŸ“ å„æ¸¯å£ä½¿ç”¨æ–°çš„å…¨å±€æ¨¡å‹ç»§ç»­è®­ç»ƒ...
â””â”€â”€ ...

...

è½®æ¬¡ 50/50: è®­ç»ƒå®Œæˆï¼
```

### ç›‘æ§è®­ç»ƒè¿›åº¦
åœ¨æœåŠ¡å™¨ç»ˆç«¯ä¸­ï¼Œæ‚¨ä¼šçœ‹åˆ°ï¼š
```
Round 1: Aggregating models from 4 clients
â”œâ”€â”€ new_orleans: weight=0.28, avg_reward=750.5
â”œâ”€â”€ south_louisiana: weight=0.26, avg_reward=720.3
â”œâ”€â”€ baton_rouge: weight=0.22, avg_reward=680.1
â””â”€â”€ gulfport: weight=0.24, avg_reward=700.8

Global model updated, broadcasting to clients...

Round 2: Aggregating models from 4 clients
â”œâ”€â”€ new_orleans: weight=0.27, avg_reward=775.2 (+24.7)
â”œâ”€â”€ south_louisiana: weight=0.25, avg_reward=745.6 (+25.3)
â”œâ”€â”€ baton_rouge: weight=0.24, avg_reward=695.4 (+15.3)
â””â”€â”€ gulfport: weight=0.24, avg_reward=718.9 (+18.1)
```

## ğŸ“Š è®­ç»ƒç»“æœ

è®­ç»ƒå®Œæˆåï¼Œæ‚¨å°†å¾—åˆ°ï¼š
1. **å…¨å±€æ¨¡å‹**: `model_cache/global_maritime_model.pt`
2. **è®­ç»ƒæ—¥å¿—**: `logs/fedml.log`
3. **æ€§èƒ½æŠ¥å‘Š**: å„æ¸¯å£çš„æ€§èƒ½æå‡ç»Ÿè®¡

## ğŸ›‘ åœæ­¢è®­ç»ƒ

è¦åœæ­¢è®­ç»ƒï¼Œåœ¨ä»»æ„ç»ˆç«¯æŒ‰ `Ctrl+C`ï¼Œç³»ç»Ÿä¼šä¼˜é›…å…³é—­ã€‚

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **ç«¯å£å ç”¨**: å¦‚æœ8888ç«¯å£è¢«å ç”¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å·
2. **å®¢æˆ·ç«¯è¿æ¥å¤±è´¥**: ç¡®ä¿æœåŠ¡å™¨å…ˆå¯åŠ¨ï¼Œå†å¯åŠ¨å®¢æˆ·ç«¯
3. **Pythonè·¯å¾„é”™è¯¯**: ç¡®ä¿PYTHONPATHæ­£ç¡®è®¾ç½®

### è°ƒè¯•æ¨¡å¼
å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š
```bash
export FEDML_LOG_LEVEL=DEBUG
./run_server.sh
```

---

## âœ… éªŒè¯ç³»ç»Ÿæ˜¯çœŸæ­£çš„åˆ†å¸ƒå¼

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š
1. **è¿›ç¨‹æŸ¥çœ‹**: `ps aux | grep maritime` - åº”è¯¥çœ‹åˆ°5ä¸ªç‹¬ç«‹è¿›ç¨‹
2. **ç½‘ç»œè¿æ¥**: `netstat -an | grep 8888` - åº”è¯¥çœ‹åˆ°ç½‘ç»œè¿æ¥
3. **ç‹¬ç«‹æ•…éšœ**: å…³é—­ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå…¶ä»–å®¢æˆ·ç«¯ç»§ç»­è¿è¡Œ
4. **è·¨æœºéƒ¨ç½²**: å¯ä»¥å°†å®¢æˆ·ç«¯éƒ¨ç½²åˆ°ä¸åŒçš„æœºå™¨ä¸Š

ğŸ‰ **æ­å–œï¼æ‚¨ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªçœŸæ­£çš„åˆ†å¸ƒå¼æµ·äº‹è”é‚¦å­¦ä¹ ç³»ç»Ÿï¼**